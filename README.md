Chapter 1.
Introduction 
1.1 Problem Statement
Cyber-attacks are becoming more and more common and disastrous every day due to the exponential increase in the number of users and the amount of data in the past decade. As companies and industries become more reliant on technology the possible damage to finance, reputation, information, and security increases parallelly. The recent cyber-attacks on even the most well-established institutions like AIIMS, Delhi, and PayPal (2006) are proof enough of the havoc a cyber-attack can cause. To protect an organisation the first step is to identify the attack in the initial phases of its growth so that we can protect our system from further damage. This involves strong detection mechanisms to be installed at various checkpoints in the system and making sure that the detection mechanism is lightweight and accurate. This research project aims to build a machine-learning model that can identify malware with the maximum possible accuracy and minimum overheads. 
1.2 Description of the problem
Malware is an intrusive, malicious program that is designed to cause damage to a computer system. This damage can be in the form of data loss, privacy compromise, unauthorized transactions to or from the system etc. Malware is extremely dangerous, and its detection can often be extremely difficult due to its obfuscated nature. Malware can be of many types depending on its target and the type of vulnerability it exploits. Let’s discuss a few of them in detail:
1.	Virus- Viruses are malevolent executable codes that are appended to other executable files. The transmission of the virus occurs through the transfer of an infected file from one computer system to another. 
2.	Trojan Horse- A Trojan horse is a type of malware that disguises itself as a legitimate function, such as playing an online game, while carrying out harmful activities. A Trojan horse differs from a virus in that it attaches itself to non-executable files, such as image files and audio files.
3.	Ransomware - Ransomware is a type of malicious software that seizes control of a computer system or its data until the victim pays a ransom. 
4.	Adware- Adware is a type of software that exhibits intrusive advertisements and pop-ups on the computer. It is bundled with software downloads and bundles. The software distributor gets cash through the display of advertisements.
5.	Spyware- Spyware is designed to illicitly acquire confidential data from a computer system on behalf of an external party. Spyware gathers data and transmits it to the perpetrator.
6.	Rootkit- Rootkit is a type of software that alters the operating system to create a hidden entry point. 
1.3 Solution proposed in the project.
In this project, we will use sophisticated machine-learning techniques to detect the three most common malware trojan-horse, spyware, and ransomware. 
Machine learning is an automated approach to data analysis that involves the construction of analytical models. Machine learning is a subdivision of artificial intelligence that operates on the principle that systems can acquire knowledge from data, recognize patterns, and make decisions with little human involvement. 
We use different machine learning algorithm like logistic regression, SVM(Support Vector Machine), KNN(K-Nearest Neighbors),  Random Forests, Decision Trees etc for bivariate and multivariate classification and their comparison.
We use performance evaluation metrics like accuracy, confusion matrix and standard deviation quiet often in the project to assess and evaluate the results of our models. 
The following metrics can be defined as:
1. Accuracy refers to the proportion of correctly identified test cases out of the total number of test instances.

2. A confusion matrix is a tool used to evaluate the effectiveness of a classification system by presenting relevant information in a structured manner.

The overall findings have been analyzed based on these four outcomes, utilizing the four most applicable assessment measures.

• TN: Instances that are accurately identified as non-malware, excluding any instances of malware.
• FP: Instances that are not malicious but are incorrectly categorized by the model.
• FN: Instances of malware that are incorrectly categorized by the model.
• TP: Instances of malware that have been accurately classified.


Chapter 2
Methodology 
3.1 Dataset Collection 
For this project, we have used the CIC-MalMem-2022 dataset, which is a collection of over 58, 596 records with 29,298 benign and 29,298 malicious. The purpose of the obfuscated malware dataset is to evaluate the effectiveness of obfuscated malware detection techniques using memory analysis. The dataset was designed to accurately simulate real-world conditions by incorporating popular viruses seen in actual environments. Comprising of Spyware, Ransomware, and Trojan Horse malware, this dataset offers a well-rounded collection of data that may be utilized for evaluating the effectiveness of obfuscated malware detection systems.

 
3.2 Data Pre-processing and Feature Selection
The dataset by default was already pre-processed and did not contain any null values which we checked in the first step.
To identify unnecessary features, we did a heat map analysis upon which we found 3 features that did not affect the target value so we removed them from the dataset. Those 3 attributes are: 
1.	pslist.nprocs64bit
2.	handles.nport
3.	svcscan.interactive_process_service

3.3 Encoding the Dataset
For the sake of binary classification wherein we were only classifying data into either benign or malignant categories I have done encoding manually where I have labelled benign data as ‘0’ and the malignant counterpart as ‘1’. On the other hand, while encoding data during multivariate classification we arrive at the problem of having too many categories since even one category such as ransomware is divided further into many categories. So, we choose to go with manual encoding where every instance where the category contains ‘ransomware’ we encode it into one single category. 
3.4 Model Building 
•	3.4.1- For Bivariate classification
For Bivariate classification, we used a logistic regression model and fit it over our dataset. 
•	3.4.2- For Multivariate Classification
For Multivariate classification, we use different machine learning algorithms and compare them. Some of them are SVM, KNN, Decision Trees, Random Forest, and a few ensemble learning algorithms such as AdaBoost and XGBoost.

Chapter 3
Result and Discussion
Before moving forward, it is important to understand that for the scope of this project, we have done both bivariate as well as multi-variate classification and the results for both will be discussed here. A novel comparative study for the multivariate classification is proposed.
Results for Bivariate Classification:
ALGORITHM	ACCURACY(Results)
Logistic Regression	99.65%
Support Vector Machine(SVM)	99.89%

Results for Multivariate Classification:
ALGORITHM	ACCURACY(Results)
Decision Tree	84.6%
Decision Tree + K-fold cross validation	85.7%
AdaBoost on Decision Tree	78.27%
Random Forest	88.06%
Support Vector Machine(SVM)	69%
KNN	80.70%
XGBoost with hyperparameter tuning	88.22%








![image](https://github.com/Bhairvi23/Malware_detection_using_machinelearning/assets/122216091/2efee3f6-c8ae-43f9-8a7f-81ee8867d0e6)
